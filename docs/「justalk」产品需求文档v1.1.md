# **产品需求文档：JusTalk - MVP V1.1**

| 文档状态 | `待评审` |
| :--- | :--- |
| **项目代号** | JusTalk |
| **版本** | 1.1 (基于 V1.0 迭代) |
| **迭代重心** | 竖屏短剧内容流、AI语音教练、Micro-Chat实战、影视切片救援 |
| **创建日期** | 2025-11-19 |
| **修订人** | AIO-PM |

---

## 1. 概述 (Overview)

### 1.1 项目背景
外语学习者常陷入“能看懂书面语但听不懂、不敢说”的困境。大量外语学习者在掌握了一定的基础词汇和语法后，会陷入“准会话学习者困境”：因缺乏安全、有效的练习环境和高质量的输入，而无法将知识转化为实际的听说能力。他们害怕犯错，缺乏自信，导致学习停滞不前。V1.0 提出的“沉浸式输入”概念有效，但原方案中的电影级内容制作成本过高，且缺乏真实的对话模拟环节。V1.1 将利用 GenAI 技术和短视频趋势，打造更轻量、更智能、更具实战性的习得体验。

### 1.2 产品愿景
JusTalk 旨在成为一个革命性的语言“习得”生态系统。我们不“教”语言，而是通过电影级的互动故事，让用户“经历”语言。我们的核心理念是：在低焦虑的沉浸式环境中，通过海量的“可理解性输入”先建立语感和听力直觉，再通过精准、鼓励性的“输出练习”将其固化为肌肉记忆，最终让用户自然而然地开口，自信地交流。JusTalk 不仅仅是外语学习工具，更是一个**AI驱动的沉浸式短剧互动平台**。我们利用竖屏短剧（Vertical Drama）建立语境，利用影视切片（Clips）强化记忆，利用AI教练（AI Coach）纠正发音，最终通过模拟对话（Micro-Chat）实现自信开口。

### 1.3 MVP V1.1 核心目标
*   **核心价值验证:** 验证“叙事沉浸 → 输入理解 → 输出巩固 → 成就闭环”这一核心学习循环的有效性和用户吸引力。
*   **验证内容模式:** 验证“竖屏短剧 + 影视切片”组合在降低内容成本的同时，是否能维持高用户留存。
*   **验证AI教学:** 验证 AI 语音教练（发音诊断）和 Micro-Chat（自由对话）的技术可行性及用户接受度。
*   **关键指标:**
    *   **完课率:** 核心故事章节完成率 ≥ 45%。
    *   **开口率:** 参与 Micro-Chat 环节的用户比例 ≥ 60%。
    *   **留存率:** 次日留存 ≥ 35% (由“预定之星”+“剧情追更”驱动)。

---

## 2. 目标用户画像 (Target User Persona)
*   **姓名:** 小琳
*   **背景:** 28岁，在一家互联网公司做市场工作，喜欢看美剧和国外博主的视频。
*   **语言水平:** 大学英语六级，词汇量不错，能看懂大部分书面英文。但在实际交流中，听力反应慢，口语表达磕磕巴巴，常用单词也想不起来。
*   **痛点:**
    1.  **输入低效:** 看美剧必须依赖字幕，否则跟不上；感觉只是在“认字”，而不是在“听懂”。
    2.  **输出恐惧:** 害怕自己的发音不标准被人笑话，不敢在公开场合或与人交流时说英语。
    3.  **缺乏动力:** 使用过多种App，要么是枯燥的背单词，要么是毫无情景的AI对话，很快就因挫败感和无聊而放弃。
*   **核心渴望:** 能够像享受母语内容一样，无障碍地欣赏原声影视剧，并在与外国友人交流时，能自信、流畅地表达自己的想法。
*   **内容偏好:** 习惯在 TikTok/Reels/抖音 上刷竖屏视频，碎片化时间多，对长视频耐心不足。
*   **技术接受度:** 对 ChatGPT 等 AI 工具有基础认知，愿意尝试 AI 互动，但期望 AI 能像真人一样自然。

---

## 3. 核心功能需求详述 (Functional Requirements)

### 模块一：启动与定级 (Onboarding)

#### 1.1 快速定级
*   **用户故事:** 作为一名新用户，我希望能快速让App了解我的水平，以便为我推荐最适合我的学习起点，让我感觉这是为我量身定制的。
*   **业务规则与逻辑:**
    1.  首次启动App的用户，在观看完方法论引导动画后，进入定级选择页。
    2.  用户可选择“开始3分钟定级”或“跳过，从新手开始”。
    3.  选择“跳过”的用户，系统默认其为`CEFR A1`级别。
    4.  定级测试包含2-3道“听音选图”题和2道“跟读句子”题。
    5.  系统根据用户的综合表现（选择正确率、发音得分），将其匹配到`CEFR A1, A2, B1`三个初始级别之一。
    6.  定级结果页会以可视化的方式（如雷达图）展示用户的能力评估，并给出鼓励性的学习建议。
*   **界面与交互:**
    *   测试过程指令清晰，交互简单，避免给用户带来压力。
    *   结果页需强化正面反馈，并提供一个明确的CTA按钮：“开启我的第一个故事”。

### 模块二：核心学习引擎 (The Core Learning Engine)

#### 2.1 叙事载体：竖屏短剧 (Vertical Drama)
*   **用户故事:** 作为一名学习者，我希望在开始学习前，先了解整个故事的背景和目标，以便激发我的好奇心和学习动机。
*   **业务规则与逻辑:**
    1.  用户在学习地图页点击一个未开始的故事章节后，首先进入预告片页。
    2.  系统会播放一段30-60秒的、带目标语言和母语双语字幕的视频片段。
    3.  该片段是本章节学习完成后，用户将要挑战的“无字幕版”视频。
*   **界面与交互:**
    *   视频播放器支持暂停、播放。播放完毕后自动引导用户进入下一环节。
*   **形式:** 采用 9:16 竖屏高清短剧，每章时长 45-60 秒，包含 5-8 个核心知识点（句子）。
*   **实现方案:**
    *   **内容源:** 采购海外优质短剧授权或与 MCN 合作，基于“悬疑/恋爱/职场”等强剧情题材剪辑。
    *   **预告片:** 进入章节前播放带双语字幕的完整短剧片段，作为 Narrative Trailer。

#### 2.2 情景猜义 (Contextual Guessing - Optimized)
*   **用户故事:** 我希望通过观察情景来理解声音的含义，而不是依赖翻译，以便于我建立语言的直觉反应。
*   **业务规则与逻辑:**
    1.  每个学习单元（句子或短语）开始时，系统首先播放标准音频。
    2.  播放当前句子的**原声视频片段**（无字幕）。
    3.  **选项设计:** 提供 3 个文字或 AI生成的静态图选项，描述该句话的“潜台词”或“情节发展”。
        *   *例：男主说 "We need to talk."*
        *   *选项 A:* 他想分手 (正确)
        *   *选项 B:* 他想讨论工作
        *   *选项 C:* 他想点餐
    4.  **反馈:** 选对后播放正确音效并高亮；选错后触发“专注模式”（变灰/震动）。
    5.  **异常状态 - 专注模式 (Focus Mode):** 当用户在同一单元连续选择错误2次后，触发“专注模式”。
        *   界面会覆盖一个半透明浮层，提示“别担心，我们放慢点”。
        *   错误的两个选项进一步变暗，正确的选项会发光或高亮，引导用户做出正确选择。
*   **界面与交互:**
    *   视频片段需能清晰地传达动作或情绪，帮助用户猜测。
    *   “专注模式”的设计必须是鼓励性的，而非惩罚性的。

#### 2.3 跟读与 AI 救援 (Echo & AI Rescue)
*   **用户故事:** 在我理解意思后，我希望能立刻模仿跟读，并得到精准、有建设性的反馈，告诉我哪里好，哪里可以更好，以便我能有效提升我的口语。
*   **业务规则与逻辑:**
    1.  完成情景猜义后，界面提示用户进行跟读。
    2.  用户按住录音按钮进行模仿。录音结束后，系统在1.5秒内调用语音评测API返回结果。
    3.  **反馈第一层 (宏观评价):** 系统首先给出一个总体的、鼓励性的评价。
        *   得分 ≥ 85分: 判定为“通过”。界面显示“完美！”或“太棒了！”等积极文案，并伴有奖励动画。
        *   得分 < 85分: 判定为“待改进”。界面显示具体分数（如“72分”），并附带一句简短的鼓励（如“很不错，再试一次会更好！”）。
    4.  **反馈第二层 (细节诊断 - 可选):** 在宏观评价下方，始终提供一个“查看发音诊断”的按钮。
        *   用户点击后，才会展开显示带有逐词颜色标记（如：绿色-优秀，黄色-良好，红色-待改进）的句子。这确保了用户在跟读时不受干扰，而在复盘时能获得细节。
    5.  **重试循环:** 得分“待改进”的用户可以重试。
*   **救援模式 (Rescue Mode) - 触发条件:** 连续 3 次跟读 < 85分。
*   **救援机制 (两步走):**
    1.  **Step 1: AI 语音教练诊断 (AI Speech Coach)**
        *   **逻辑:** 调用大模型分析用户录音的声学特征。
        *   **交互:** 屏幕下方弹出一个“教练气泡”，通过**文本+TTS语音**给出具体建议。
        *   *例:* "检测到你的 'World' 卷舌音不够，试着把舌尖向后卷，发音更像 'Wuh-rld'。"
    2.  **Step 2: 影视切片强化 (Clip Reinforcement)**
        *   **逻辑:** 针对当前句子中的**核心关键词/短语**，检索并播放 1-2 个来自经典电影或美剧的**超短切片**（类似 Subzin/Yarn 功能）。
        *   *目的:* 让用户听到不同的人、在不同语境下说同一个词，打破“只会听原版录音”的固化思维。
        *   *实现:* MVP 阶段建立一个精选的“切片库”映射表，不进行全网实时爬取。
    3.  **放行:** 观看完切片后，用户最后尝试一次，无论分数如何均判定通过，确保流畅度。但通过“救援模式”的单元，在星级评定中会影响“实战之星”的获得。

### 模块三：实战与闭环 (Practice & Closure)

#### 3.1 魔法时刻 (The Magic Moment)
*   **用户故事:** 当我完成一个章节的所有学习后，我希望能够立刻验证我的学习成果，体验到那种“我真的进步了”的巨大喜悦。
*   **业务规则与逻辑:**
    1.  当用户完成一个故事章节内所有的学习单元后，触发“魔法时刻”。
    2.  系统会先弹出一个充满仪式感的祝贺页面，文案如：“恭喜！准备好见证奇迹了吗？”
    3.  点击后，进入“剧场模式”，全屏、无任何UI干扰地播放本章节的**无字幕版**预告片。
    4.  播放结束后，弹出一个简单的自我反馈调查：“感觉怎么样？[🤯 完全听懂了！], [😲 听懂了大部分！], [🙂 还需要多练练]”。用户的选择仅用于数据分析和个性化鼓励。
*   **界面与交互:**
    *   “剧场模式”必须极简，营造沉浸感。
    *   自我反馈的选项设计要有趣、符合用户此刻的心情。

#### 3.2 [新增] 微对话实战 (Micro-Chat)
*   **用户故事:** 听懂了、读过了，现在我要尝试在一个具体的语境中把它们**用出来**。
*   **业务逻辑:**
    1.  **场景切入:** 魔法时刻结束后，界面转变为类似微信/iMessage 的聊天界面。
    2.  **角色扮演:** 系统生成一个 AI 角色（基于短剧中的配角，如咖啡师、同事）。
    3.  **任务:** AI 发送一条语音/文字（基于剧情），要求用户回复。
        *   *AI (Boss):* "So, did you finish the report?" (剧情相关)
        *   *提示:* 屏幕提供 3 个关键词提示 (Yes / Table / Morning)。
    4.  **交互:** 用户按住说话。
    5.  **反馈:** 
        *   AI 识别语义，如果回复合理（用到核心词），AI 会回复一句自然的结束语，并显示“对话达成”。
        *   如果回复完全跑题，AI 会引导：“Try saying you left it on the table.”

#### 3.3 三星评定与预定 (Star Rating)
*   **用户故事:** 我希望我的努力能被量化和记录，并通过获得星星来获得持续的动力。
*   **业务规则与逻辑:**
    *   ⭐ **体验之星:** 只要用户**完成了**本章节所有的学习单元并观看了“魔法时刻”视频，即可100%获得。
        *   **奖励目标:** 鼓励完成度和坚持。
    *   ⭐ **实战之星:** 完成 Micro-Chat 环节。如果用户在本章节的学习过程中，触发“专注模式”和“救援模式”的总次数少于一个预设阈值（例如：3次），即可获得。
        *   **奖励目标:** 鼓励专注和高效的学习。
    *   ⭐ **精通之星 (已预定):** 依然采用 24小时后复习激活机制（核心留存抓手）。
        *   **获取资格:** 在结算页面，如果用户已获得前两颗星，第三颗星会自动进入“**已预定**”状态。
        *   **激活条件:** 用户必须在**24小时后**返回App，并完成一个与本章节内容相关的、时长约30-60秒的快速复习任务（如闪卡、听音辨意等）。
        *   **奖励目标:** 鼓励符合艾宾浩斯遗忘曲线的科学复习行为，是驱动次日留存的核心抓手。
*   **界面与交互:**
    *   **结算页面:**
        *   已获得的星星会以金色点亮。
        *   “已预定”的精通之星会以一种特殊状态显示（如灰色、被气泡包裹、有微弱的呼吸动画），并附有提示文案：“**精通之星已为你预定！明天回来复习即可点亮！**”
    *   **学习地图页:**
        *   完成的章节会显示获得的星级，包括特殊状态的“预定之星”。
    *   **复习与点亮:**
        *   次日，App会通过推送通知提醒用户。
        *   用户完成复习任务后，第三颗星会有一个华丽的点亮动画，并给予额外的虚拟奖励（如积分）。
---

## 4. 详细实现方案 (Implementation Details)

本节重点描述关键功能的具体设计与技术选型。

### 4.1 内容获取与处理 (Content Strategy)
*   **短剧来源:** 
    *   **渠道:** 联系海外 Short Drama 制作方或国内出海 MCN (如九州、ReelShort 供应商) 购买非独家授权。
    *   **成本控制:** MVP 仅需购买 1-2 部剧（约 50-80 集），足够支撑前两周内容。
*   **影视切片 (Rescue Clips):**
    *   **数据源:** 使用 **Yarn.io** 的非官方 API 或人工手动在 Yarn/Subzin 上检索对应关键词的片段。
    *   **本地化:** 下载约 200 个通用高频词组的 MP4 片段（如 "I promise", "No way", "Wait a minute"），建立本地`Clip_Database`。
    *   **映射:** 在 CMS 后台将每个课程句子的“难点词”与 `Clip_Database` 中的 ID 关联。

### 4.2 AI 语音评测与教练 (Technical Stack)
*   **语音转文字 (STT) & 评测:** 
    *   **推荐方案:** **Microsoft Azure Speech Service (Pronunciation Assessment)**。
    *   **理由:** Azure 提供最细颗粒度的评测（音素级、流利度、完整度、声调），且能返回具体的错误类型（如漏读、发音错误），非常适合做“AI教练”。
*   **AI 教练反馈生成:**
    *   **输入:** Azure 返回的评测 JSON（包含错误单词和错误类型）+ 标准句子文本。
    *   **处理:** 调用 **OpenAI GPT-4o-mini**。
    *   **Prompt:** `你是一个专业的英语发音教练。用户在朗读句子 "{sentence}" 时，单词 "{word}" 发音评分为低。请用中文给出一句简短、鼓励性的发音指导技巧，不超过20字。`

### 4.3 Micro-Chat 实现 (Technical Stack)
*   **对话引擎:** **OpenAI GPT-4o** (高智商，反应快) 或 **Groq (Llama 3)** (极速，适合实时对话)。
*   **角色设定:** 在 System Prompt 中注入剧情背景。
    *   *Prompt:* `你现在是短剧《咖啡馆奇遇》里的服务员Sam。用户是顾客。剧情背景是...。请用A2级别的简单英语与用户进行一轮对话。当用户提到...时，表示认可并结束对话。`
*   **容错:** 使用 Fuzzy Matching (模糊匹配) 检查用户回答中是否包含了本课的核心关键词，以此作为“通关”依据，而不是要求语法完美。

---

## 5. 界面交互设计清单 (UI/UX Design Specs)

### 5.1 核心学习页 (Core Learning Screen)
*   **布局:** 9:16 沉浸式全屏。
*   **上部:** 视频播放区域（短剧/切片）。
*   **中部:** 动态字幕区（跟读时显示波形）。
*   **下部:** 操作区。
    *   **救援触发:** 当连续错误时，底部操作区向上滑出半屏浮层（Bottom Sheet）。
    *   **救援浮层内容:**
        1.  **AI Tips:** 气泡样式，显示文字建议，旁边的“小喇叭”点击播放 TTS。
        2.  **Clip Player:** 圆角矩形播放器，自动循环播放“影视切片”。
        3.  **CTA:** "再试一次" 按钮。

### 5.2 Micro-Chat 界面
*   **风格:** 仿即时通讯软件 (Messenger/WeChat)。
*   **动效:** 
    *   AI 输入时显示 "Typing..." 或 "Recording..." 动画。
    *   用户说话时显示声波律动。
*   **辅助:** 输入框上方悬浮 3 个“锦囊词汇”（本课核心词），点击可听到发音，长按可查看释义。

---

## 6. 业务流程图 V1.1 (Updated Flowchart)

```mermaid
graph TD
    subgraph User_Action
        A[开始章节] --> B[观看短剧预告]
        B --> C[情景猜义]
        C -->|Video+Text Options| D{选择正确?}
        D -- No --> C
        D -- Yes --> E[跟读模仿]
        
        E --> F{评分 >= 85?}
        F -- Yes --> G{本章结束?}
        
        F -- No (1-2次) --> E
        F -- No (3次) --> H[触发救援模式]
        
        subgraph Rescue_System
            H --> I[Step 1: AI发音诊断建议]
            H --> J[Step 2: 播放影视切片(Subzin Style)]
            I & J --> K[最后尝试]
        end
        
        K --> G
        
        G -- No --> C
        G -- Yes --> L[魔法时刻: 无字幕看剧]
        L --> M[Micro-Chat: 剧情角色模拟对话]
        M --> N[章节结算 & 预定精通之星]
    end
    
    style H fill:#f9d,stroke:#333
    style M fill:#d9f,stroke:#333
```

---

## 7. 数据埋点需求 (Data Tracking) V1.1 新增

除了 V1.0 的基础指标外，需重点监控以下数据以验证新功能：

| 事件名称 (Event Name) | 参数 (Params) | 目的 (Purpose) |
| :--- | :--- | :--- |
| `rescue_triggered` | `sentence_id`, `error_word` | 统计哪些句子最难，优化课程。 |
| `rescue_clip_viewed` | `clip_id`, `duration` | 验证影视切片是否被完整观看（吸引力）。 |
| `rescue_conversion` | `score_before`, `score_after` | **核心:** 验证救援模式是否真的提升了分数。 |
| `micro_chat_start` | `chapter_id` | 参与率。 |
| `micro_chat_success` | `turns_count` (轮数), `keywords_used` | 验证用户是否真的在对话中运用了所学词汇。 |

---

## 8. 风险与对策 (Risks & Mitigation)

1.  **版权风险 (影视切片):**
    *   *风险:* 使用电影片段可能涉及版权。
    *   *对策:* MVP 阶段根据“合理使用 (Fair Use)”原则用于教育目的，且片段极短（<5秒）。长期需接入合规 API (如 Yarn) 或购买素材库。
2.  **AI 延迟:**
    *   *风险:* AI 生成反馈或对话延迟过高影响体验。
    *   *对策:* 使用流式传输 (Streaming) 输出文字；Micro-Chat 预加载部分可能的回复逻辑；Azure 评测在 MVP 阶段可适当降低精度换取速度。
3.  **内容断供:**
    *   *风险:* 短剧更新速度跟不上用户学习速度。
    *   *对策:* MVP 备足 2 周内容。设计“复习周”机制，强制用户回头巩固，缓解内容生产压力。

---

## **图一：业务流程图 (Business Process Flowchart)**

### **原理应用**
*   **第一性原理:** 业务流程的本质是**数据与价值的交换**。在V1.1中，核心价值交换发生了质变：
    *   **输入端:** 用户不再是被动接收，而是通过“猜义”提供注意力。
    *   **处理端 (AI):** 系统不再是简单的判断对错，而是提供**诊断（AI Coach）**和**佐证（Clip Rescue）**。
    *   **输出端:** 用户不再只是跟读，而是通过**Micro-Chat** 贡献内容，完成语言的交际功能。
*   **金字塔原理:**
    *   **顶层:** 用户习得能力并留存。
    *   **中层:** 三大循环（认知循环、纠正循环、应用循环）。
    *   **底层:** 具体判定逻辑（如Azure评分阈值、AI对话关键词匹配）。

### **Mermaid 流程图**

```mermaid
graph TD
    subgraph 用户 (User)
        U1(开启章节) --> U2(观看短剧预告<br/>建立语境)
        U2 --> U3(情景猜义<br/>观看无声原片)
        
        subgraph 认知循环 (Cognition Loop)
            U3 --> U4{选择潜台词?}
            U4 -- 错误 --> U3
            U4 -- 正确 --> U5(跟读模仿)
        end

        subgraph 纠正循环 (Correction Loop)
            U5 --> U6{AI评分 >= 85?}
            U6 -- 是 --> U7{本章结束?}
            U6 -- 否 (前2次) --> U5
            U6 -- 否 (第3次) --> U8(进入AI救援流程)
            
            U8 --> U9(阅读AI教练诊断)
            U9 --> U10(观看影视切片<br/>Clip Reinforcement)
            U10 --> U11(终极尝试<br/>强制通过)
            U11 --> U7
        end

        U7 -- 否 --> U3
        U7 -- 是 --> U12(魔法时刻<br/>无字幕沉浸)

        subgraph 应用循环 (Application Loop)
            U12 --> U13(进入Micro-Chat)
            U13 --> U14(接收AI角色消息)
            U14 --> U15(语音回复)
            U15 --> U16{命中核心词?}
            U16 -- 否 (AI引导) --> U15
            U16 -- 是 (AI确认) --> U17(对话达成)
        end

        U17 --> U18(结算 & 预定精通之星)
    end

    subgraph JusTalk_System (AI Backend)
        S1(加载短剧资源) --> U2
        
        S2(Azure Speech API) --> U6
        S2 -- 返回详细错误类型 --> S3(GPT-4o 生成诊断)
        S3 --> U9
        
        S4(检索 Clip Database) --> U10
        
        S5(GPT-4o Roleplay) -- 注入剧情背景 --> U14
        S5 -- 语义分析 & 模糊匹配 --> U16
        
        S6(更新用户模型 & 留存策略) --> U18
    end

    style U8 fill:#f9d,stroke:#333,stroke-width:2px
    style U13 fill:#d9f,stroke:#333,stroke-width:2px
    style S3 fill:#ff9,stroke:#333
    style S5 fill:#ff9,stroke:#333
```

---

## **图二：信息结构图 (Information Architecture)**

### **原理应用**
*   **第一性原理:** IA 的本质是**降低用户的认知负荷**。V1.1 引入了更多功能（短剧、AI、切片），IA 必须将复杂性折叠在“流（Flow）”中，而不是平铺在菜单里。**“救援”不是一个页面，而是一种状态；“微对话”是学习流的自然延伸。**
*   **金字塔原理:**
    *   **根节点:** JusTalk App.
    *   **一级分支:** 学习流（核心）、复习流（留存）、个人资产（支撑）。
    *   **二级分支:** 详细拆解了“救援模式浮层”和“微对话界面”的内部结构，因为这是V1.1的新增复杂度所在。

### **Markdown 结构图**

```markdown
- **JusTalk App V1.1**
    - **1. 学习主流程 (The Learning Flow) [线性沉浸体验]**
        - 1.1. 剧集列表页 (Series List)
            - 剧集海报 (竖屏封面)
            - 进度条
        - 1.2. 章节详情/预告页 (Trailer Page)
            - 预告片播放器 (9:16)
            - 学习目标概览
        - 1.3. **核心学习页 (Core Learning Screen)**
            - **主播放器 (Main Player):** 播放短剧原片
            - **猜义交互区:** 3个文本/图片选项
            - **跟读交互区:** 录音按钮、波形反馈
            - **[状态] 救援模式浮层 (Rescue Overlay - Bottom Sheet)**
                - AI 教练气泡 (Text + TTS Play)
                - 影视切片播放器 (Clip Player - Loop)
                - “再试一次”按钮
        - 1.4. **魔法时刻页 (Magic Moment)**
            - 纯净播放器 (无UI干扰)
        - 1.5. **微对话页 (Micro-Chat Screen) [V1.1 新增]**
            - 聊天流列表 (Chat Stream)
            - 底部语音输入栏
            - 悬浮提示锦囊 (Hint Chips)
        - 1.6. 结算页 (Settlement)
            - 星级展示 (含预定状态)
            - 连胜赌注入口 (Streak Wager - Optional)

    - **2. 复习与留存 (Retention Loop)**
        - 2.1. 每日推送 (Notification)
        - 2.2. 快速复习页 (Flash Review)
            - 形式: 听音辨义 / 影视切片填空

    - **3. 支撑体系 (Support System)**
        - 3.1. 个人中心
            - 词汇量统计
            - 完剧记录
        - 3.2. 设置
```

---

## **图三：页面流转图 (Page Flow Diagram)**

### **原理应用**
*   **第一性原理:** 页面流转图描述的是**用户在时间维度上的空间移动**。V1.1 的设计哲学是“单行道”，尽量减少用户跳出的机会，用“模态浮层（Modals）”处理异常，保证沉浸感。
*   **金字塔原理:**
    *   **主干:** 快乐路径（Happy Path），即一切顺利的流程。
    *   **分支:** 异常处理（救援）和 留存钩子（复习）。

### **Mermaid 流程图**

```mermaid
graph TD
    A[启动页/首页] -->|点击未完剧集| B[预告片页]
    B -->|Start| C[核心学习页]
    
    subgraph In-Page Interactions
        C -->|猜义| C1(选项交互)
        C1 -->|正确| C2(录音状态)
        C2 -->|失败3次| D[救援模式浮层]
        D -->|关闭/重试| C2
    end

    C -->|本章通关| E[魔法时刻 (全屏播放)]
    E -->|播放结束| F[微对话页]
    
    subgraph Chat Interactions
        F -->|按住说话| F1(发送语音)
        F1 -->|AI回复| F
    end

    F -->|对话达成| G[结算页]
    G -->|返回| A
    
    subgraph Retention Path
        A -->|次日推送点击| H[快速复习页]
        H -->|完成| A
    end
```

---

## **清单四：页面元素清单 (Page Element Inventory)**

### **原理应用**
*   **第一性原理:** 每一个UI元素都必须服务于特定的交互目的。在V1.1中，由于引入了AI和短视频，**反馈类元素**（如教练建议、切片播放器）的优先级被极大地提高了。

### **1. 核心学习页 (Core Learning Screen) - V1.1 改造**

| 区域 | 元素名称 | 交互/状态逻辑 (Logic & States) |
| :--- | :--- | :--- |
| **Video Area** | **竖屏主播放器** | **状态:** 播放/暂停/缓冲。<br>**逻辑:** 默认循环播放当前句子的短剧片段（无字幕）。 |
| **Interaction** | **猜义选项卡** (x3) | **类型:** 纯文本 或 AI生成的静态图。<br>**状态:** 默认(白底黑字) -> 选中正确(绿框+音效) -> 选中错误(抖动+变灰)。 |
| **Interaction** | **录音按钮** | **长按:** 录音中（显示动态波形）。<br>**松开:** 提交分析（显示Loading转圈）。 |
| **Feedback** | **[浮层] 救援面板** | **触发:** 连续3次评分<85。<br>**包含元素:**<br>1. **AI Coach Bubble:** 显示具体的纠音建议文本，带一个小喇叭图标（点击播放TTS）。<br>2. **Clip Player:** 约300x200dp的圆角播放器，自动循环播放影视切片。<br>3. **CTA:** "Got it, Try Again" 按钮，点击收起浮层。 |

### **2. 微对话页 (Micro-Chat Screen) - V1.1 新增**

| 区域 | 元素名称 | 交互/状态逻辑 (Logic & States) |
| :--- | :--- | :--- |
| **Header** | **角色信息栏** | 显示AI扮演的角色头像（如剧中的Sam）和当前情境目标（Mission）。 |
| **Chat Stream** | **AI 气泡** | 左侧显示。支持播放语音，显示转换后的文字。 |
| **Chat Stream** | **用户气泡** | 右侧显示。显示用户录音转换的文字。**状态:** 发送中 / 已读。 |
| **Input Area** | **语音输入栏** | 类似微信。按住说话，上滑取消。 |
| **Assist** | **锦囊词汇 (Hint Chips)** | 悬浮在输入栏上方。显示3个本课核心词。<br>**交互:** 点击播放单词发音，长按显示释义。 |
| **System** | **反馈Toast** | 当用户跑题时，顶部弹出提示：“试试用上 'Table' 这个词”。 |

### **3. 结算页 (Settlement Screen) - V1.1 调整**

| 区域 | 元素名称 | 交互/状态逻辑 (Logic & States) |
| :--- | :--- | :--- |
| **Rating** | **实战之星 (Action Star)** | **逻辑:** 取代原“效率之星”。<br>**状态:** 只要完成了Micro-Chat环节即点亮。 |
| **Retention** | **预定之星 (Booked Star)** | **视觉:** 虚线轮廓，内部有倒计时或“明日可领”字样。<br>**逻辑:** 强引导用户关注次日推送。 |

---

### **设计备注 (Design Notes for UI/Dev)**

1.  **性能优先:** 在“核心学习页”弹出“救援面板”时，主播放器应自动暂停并变暗（Dimmed），将视觉焦点完全集中在`Clip Player`上。
2.  **无缝体验:** Micro-Chat 界面虽然是新页面，但在视觉上应由“魔法时刻”平滑过渡（例如：全屏视频淡出，背景保留短剧的高斯模糊图，然后浮现出聊天气泡），避免强烈的割裂感。
3.  **AI 延迟掩盖:** 在 Micro-Chat 环节，AI 生成回复可能需要 1-2 秒。此时必须显示自然的 "Sam is typing..." 或 "Sam is recording..." 动画，减少用户焦虑。